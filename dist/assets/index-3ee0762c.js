import{K as e,L as o,M as a,N as n,O as l,d as t,r as s,P as r,Q as i,R as d,S as u,T as c,h as m,U as v,V as p,W as f,X as g,Y as b,c as w,Z as h,w as y,g as _,$ as I,a0 as x,q as C,a1 as E,a2 as k,a3 as P,a4 as F,C as R,a5 as T,a6 as S,a7 as z,a8 as B,a9 as D,aa as $,ab as M,ac as K,ad as V,e as G,ae as L,af as O,G as A,H,ag as U,ah as j,ai as N,aj as q,ak as W,f as Y,al as J,k as Q,F as X,am as Z,an as ee,ao as oe,ap as ae,aq as ne,ar as le,as as te,at as se,au as re,av as ie,D as de,u as ue,aw as ce,ax as me,v as ve,x as pe,ay as fe,az as ge,aA as be,aB as we,aC as he,aD as ye,aE as _e,_ as Ie,a as xe,b as Ce,j as Ee,l as ke,E as Pe,m as Fe,n as Re,s as Te,t as Se,aF as ze,aG as Be,aH as De,y as $e}from"./index-55d4e470.js";import{E as Me}from"./avatar-5f8189d2.js";import{c as Ke,E as Ve}from"./overlay-2f412c5d.js";const Ge=e({style:{type:o([String,Array,Object])},currentTabId:{type:o(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:o(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Le,ElCollectionItem:Oe,COLLECTION_INJECTION_KEY:Ae,COLLECTION_ITEM_INJECTION_KEY:He}=a("RovingFocusGroup"),Ue=Symbol("elRovingFocusGroup"),je=Symbol("elRovingFocusGroupItem"),Ne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},qe=(e,o,a)=>{const l=((e,o)=>{if("rtl"!==o)return e;switch(e){case n.right:return n.left;case n.left:return n.right;default:return e}})(e.code,a);if(!("vertical"===o&&[n.left,n.right].includes(l)||"horizontal"===o&&[n.up,n.down].includes(l)))return Ne[l]},We=e=>{const{activeElement:o}=document;for(const a of e){if(a===o)return;if(a.focus(),o!==document.activeElement)return}},Ye="currentTabIdChange",Je="rovingFocusGroup.entryFocus",Qe={bubbles:!1,cancelable:!0},Xe=t({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Ge,emits:[Ye,"entryFocus"],setup(e,{emit:o}){var a;const n=s(null!=(a=e.currentTabId||e.defaultCurrentTabId)?a:null),l=s(!1),t=s(!1),f=s(null),{getItems:b}=r(Ae,void 0),w=i((()=>[{outline:"none"},e.style])),h=g((o=>{var a;null==(a=e.onMousedown)||a.call(e,o)}),(()=>{t.value=!0})),y=g((o=>{var a;null==(a=e.onFocus)||a.call(e,o)}),(e=>{const o=!m(t),{target:a,currentTarget:s}=e;if(a===s&&o&&!m(l)){const e=new Event(Je,Qe);if(null==s||s.dispatchEvent(e),!e.defaultPrevented){const e=b().filter((e=>e.focusable)),o=[e.find((e=>e.active)),e.find((e=>e.id===m(n))),...e].filter(Boolean).map((e=>e.ref));We(o)}}t.value=!1})),_=g((o=>{var a;null==(a=e.onBlur)||a.call(e,o)}),(()=>{l.value=!1}));d(Ue,{currentTabbedId:u(n),loop:c(e,"loop"),tabIndex:i((()=>m(l)?-1:0)),rovingFocusGroupRef:f,rovingFocusGroupRootStyle:w,orientation:c(e,"orientation"),dir:c(e,"dir"),onItemFocus:e=>{o(Ye,e)},onItemShiftTab:()=>{l.value=!0},onBlur:_,onFocus:y,onMousedown:h}),v((()=>e.currentTabId),(e=>{n.value=null!=e?e:null})),p(f,Je,((...e)=>{o("entryFocus",...e)}))}});var Ze=l(t({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Le,ElRovingFocusGroupImpl:l(Xe,[["render",function(e,o,a,n,l,t){return f(e.$slots,"default")}],["__file","roving-focus-group-impl.vue"]])}}),[["render",function(e,o,a,n,l,t){const s=b("el-roving-focus-group-impl"),r=b("el-focus-group-collection");return w(),h(r,null,{default:y((()=>[_(s,I(x(e.$attrs)),{default:y((()=>[f(e.$slots,"default")])),_:3},16)])),_:3})}],["__file","roving-focus-group.vue"]]);const eo=Symbol("elDropdown"),{ButtonGroup:oo}=C;var ao=l(t({name:"ElDropdown",components:{ElButton:C,ElButtonGroup:oo,ElScrollbar:E,ElDropdownCollection:k,ElTooltip:P,ElRovingFocusGroup:Ze,ElOnlyChild:F,ElIcon:R,ArrowDown:T},props:S,emits:["visible-change","click","command"],setup(e,{emit:o}){const a=U(),n=z("dropdown"),{t:l}=B(),t=s(),r=s(),u=s(null),p=s(null),f=s(null),g=s(null),b=s(!1),w=i((()=>({maxHeight:D(e.maxHeight)}))),h=i((()=>[n.m(C.value)])),y=i((()=>$(e.trigger))),_=M().value,I=i((()=>e.id||_));function x(){var e;null==(e=u.value)||e.onClose()}v([t,y],(([e,o],[a])=>{var n,l,t;(null==(n=null==a?void 0:a.$el)?void 0:n.removeEventListener)&&a.$el.removeEventListener("pointerenter",E),(null==(l=null==e?void 0:e.$el)?void 0:l.removeEventListener)&&e.$el.removeEventListener("pointerenter",E),(null==(t=null==e?void 0:e.$el)?void 0:t.addEventListener)&&o.includes("hover")&&e.$el.addEventListener("pointerenter",E)}),{immediate:!0}),K((()=>{var e,o;(null==(o=null==(e=t.value)?void 0:e.$el)?void 0:o.removeEventListener)&&t.value.$el.removeEventListener("pointerenter",E)}));const C=V();function E(){var e,o;null==(o=null==(e=t.value)?void 0:e.$el)||o.focus()}d(eo,{contentRef:p,role:i((()=>e.role)),triggerId:I,isUsingKeyboard:b,onItemEnter:function(){},onItemLeave:function(){const e=m(p);y.value.includes("hover")&&(null==e||e.focus()),g.value=null}}),d("elDropdown",{instance:a,dropdownSize:C,handleClick:function(){x()},commandHandler:function(...e){o("command",...e)},trigger:c(e,"trigger"),hideOnClick:c(e,"hideOnClick")});return{t:l,ns:n,scrollbar:f,wrapStyle:w,dropdownTriggerKls:h,dropdownSize:C,triggerId:I,currentTabId:g,handleCurrentTabIdChange:function(e){g.value=e},handlerMainButtonClick:e=>{o("click",e)},handleEntryFocus:function(e){b.value||(e.preventDefault(),e.stopImmediatePropagation())},handleClose:x,handleOpen:function(){var e;null==(e=u.value)||e.onOpen()},handleBeforeShowTooltip:function(){o("visible-change",!0)},handleShowTooltip:function(e){"keydown"===(null==e?void 0:e.type)&&p.value.focus()},handleBeforeHideTooltip:function(){o("visible-change",!1)},onFocusAfterTrapped:e=>{var o,a;e.preventDefault(),null==(a=null==(o=p.value)?void 0:o.focus)||a.call(o,{preventScroll:!0})},popperRef:u,contentRef:p,triggeringElementRef:t,referenceElementRef:r}}}),[["render",function(e,o,a,n,l,t){var s;const r=b("el-dropdown-collection"),i=b("el-roving-focus-group"),d=b("el-scrollbar"),u=b("el-only-child"),c=b("el-tooltip"),m=b("el-button"),v=b("arrow-down"),p=b("el-icon"),g=b("el-button-group");return w(),G("div",{class:A([e.ns.b(),e.ns.is("disabled",e.disabled)])},[_(c,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":"hover"===e.trigger?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":null==(s=e.referenceElementRef)?void 0:s.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":"hover"===e.trigger?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},L({content:y((()=>[_(d,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:y((()=>[_(i,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:y((()=>[_(r,null,{default:y((()=>[f(e.$slots,"dropdown")])),_:3})])),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])])),_:3},8,["wrap-style","view-class"])])),_:2},[e.splitButton?void 0:{name:"default",fn:y((()=>[_(u,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:y((()=>[f(e.$slots,"default")])),_:3},8,["id","tabindex"])]))}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(w(),h(g,{key:0},{default:y((()=>[_(m,O({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:y((()=>[f(e.$slots,"default")])),_:3},16,["size","type","disabled","tabindex","onClick"]),_(m,O({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:y((()=>[_(p,{class:A(e.ns.e("icon"))},{default:y((()=>[_(v)])),_:1},8,["class"])])),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])])),_:3})):H("v-if",!0)],2)}],["__file","dropdown.vue"]]);var no=l(t({components:{ElRovingFocusCollectionItem:Oe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:a,loop:l,onItemFocus:t,onItemShiftTab:u}=r(Ue,void 0),{getItems:c}=r(Ae,void 0),v=M(),p=s(null),f=g((e=>{o("mousedown",e)}),(o=>{e.focusable?t(m(v)):o.preventDefault()})),b=g((e=>{o("focus",e)}),(()=>{t(m(v))})),w=g((e=>{o("keydown",e)}),(e=>{const{code:o,shiftKey:a,target:t,currentTarget:s}=e;if(o===n.tab&&a)return void u();if(t!==s)return;const r=qe(e);if(r){e.preventDefault();let o=c().filter((e=>e.focusable)).map((e=>e.ref));switch(r){case"last":o.reverse();break;case"prev":case"next":{"prev"===r&&o.reverse();const e=o.indexOf(s);o=l.value?(d=e+1,(i=o).map(((e,o)=>i[(o+d)%i.length]))):o.slice(e+1);break}}j((()=>{We(o)}))}var i,d})),h=i((()=>a.value===m(v)));return d(je,{rovingFocusGroupItemRef:p,tabIndex:i((()=>m(h)?0:-1)),handleMousedown:f,handleFocus:b,handleKeydown:w}),{id:v,handleKeydown:w,handleFocus:b,handleMousedown:f}}}),[["render",function(e,o,a,n,l,t){const s=b("el-roving-focus-collection-item");return w(),h(s,{id:e.id,focusable:e.focusable,active:e.active},{default:y((()=>[f(e.$slots,"default")])),_:3},8,["id","focusable","active"])}],["__file","roving-focus-item.vue"]]);const lo=t({name:"DropdownItemImpl",components:{ElIcon:R},props:N,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const a=z("dropdown"),{role:l}=r(eo,void 0),{collectionItemRef:t}=r(q,void 0),{collectionItemRef:s}=r(He,void 0),{rovingFocusGroupItemRef:d,tabIndex:u,handleFocus:c,handleKeydown:m,handleMousedown:v}=r(je,void 0),p=Ke(t,s,d),f=i((()=>"menu"===l.value?"menuitem":"navigation"===l.value?"link":"button")),b=g((e=>{if([n.enter,n.numpadEnter,n.space].includes(e.code))return e.preventDefault(),e.stopImmediatePropagation(),o("clickimpl",e),!0}),m);return{ns:a,itemRef:p,dataset:{[W]:""},role:f,tabIndex:u,handleFocus:c,handleKeydown:b,handleMousedown:v}}});const to=()=>{const e=r("elDropdown",{}),o=i((()=>null==e?void 0:e.dropdownSize));return{elDropdown:e,_elDropdownSize:o}};var so=l(t({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Z,ElRovingFocusItem:no,ElDropdownItemImpl:l(lo,[["render",function(e,o,a,n,l,t){const s=b("el-icon");return w(),G(X,null,[e.divided?(w(),G("li",{key:0,role:"separator",class:A(e.ns.bem("menu","item","divided"))},null,2)):H("v-if",!0),Y("li",O({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o=>e.$emit("clickimpl",o),onFocus:e.handleFocus,onKeydown:Q(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:o=>e.$emit("pointermove",o),onPointerleave:o=>e.$emit("pointerleave",o)}),[e.icon?(w(),h(s,{key:0},{default:y((()=>[(w(),h(J(e.icon)))])),_:1})):H("v-if",!0),f(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}],["__file","dropdown-item-impl.vue"]])},inheritAttrs:!1,props:N,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:a}){const{elDropdown:n}=to(),l=U(),t=s(null),d=i((()=>{var e,o;return null!=(o=null==(e=m(t))?void 0:e.textContent)?o:""})),{onItemEnter:u,onItemLeave:c}=r(eo,void 0),v=g((e=>(o("pointermove",e),e.defaultPrevented)),ee((o=>{if(e.disabled)return void c(o);const a=o.currentTarget;a===document.activeElement||a.contains(document.activeElement)||(u(o),o.defaultPrevented||null==a||a.focus())}))),p=g((e=>(o("pointerleave",e),e.defaultPrevented)),ee(c));return{handleClick:g((a=>{if(!e.disabled)return o("click",a),"keydown"!==a.type&&a.defaultPrevented}),(o=>{var a,t,s;e.disabled?o.stopImmediatePropagation():((null==(a=null==n?void 0:n.hideOnClick)?void 0:a.value)&&(null==(t=n.handleClick)||t.call(n)),null==(s=n.commandHandler)||s.call(n,e.command,l,o))})),handlePointerMove:v,handlePointerLeave:p,textContent:d,propsAndAttrs:i((()=>({...e,...a})))}}}),[["render",function(e,o,a,n,l,t){var s;const r=b("el-dropdown-item-impl"),i=b("el-roving-focus-item"),d=b("el-dropdown-collection-item");return w(),h(d,{disabled:e.disabled,"text-value":null!=(s=e.textValue)?s:e.textContent},{default:y((()=>[_(i,{focusable:!e.disabled},{default:y((()=>[_(r,O(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:y((()=>[f(e.$slots,"default")])),_:3},16,["onPointerleave","onPointermove","onClickimpl"])])),_:3},8,["focusable"])])),_:3},8,["disabled","text-value"])}],["__file","dropdown-item.vue"]]);var ro=l(t({name:"ElDropdownMenu",props:oe,setup(e){const o=z("dropdown"),{_elDropdownSize:a}=to(),l=a.value,{focusTrapRef:t,onKeydown:s}=r(ae,void 0),{contentRef:d,role:u,triggerId:c}=r(eo,void 0),{collectionRef:v,getItems:p}=r(ne,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:b,tabIndex:w,onBlur:h,onFocus:y,onMousedown:_}=r(Ue,void 0),{collectionRef:I}=r(Ae,void 0),x=i((()=>[o.b("menu"),o.bm("menu",null==l?void 0:l.value)])),C=Ke(d,v,t,f,I),E=g((o=>{var a;null==(a=e.onKeydown)||a.call(e,o)}),(e=>{const{currentTarget:o,code:a,target:l}=e;if(o.contains(l),n.tab===a&&e.stopImmediatePropagation(),e.preventDefault(),l!==m(d)||!te.includes(a))return;const t=p().filter((e=>!e.disabled)).map((e=>e.ref));se.includes(a)&&t.reverse(),We(t)}));return{size:l,rovingFocusGroupRootStyle:b,tabIndex:w,dropdownKls:x,role:u,triggerId:c,dropdownListWrapperRef:C,handleKeydown:e=>{E(e),s(e)},onBlur:h,onFocus:y,onMousedown:_}}}),[["render",function(e,o,a,n,l,t){return w(),G("ul",{ref:e.dropdownListWrapperRef,class:A(e.dropdownKls),style:le(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:Q(e.handleKeydown,["self"]),onMousedown:Q(e.onMousedown,["self"])},[f(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}],["__file","dropdown-menu.vue"]]);const io=re(ao,{DropdownItem:so,DropdownMenu:ro}),uo=ie(so),co=ie(ro),mo=e=>(ve("data-v-1312d806"),e=e(),pe(),e),vo={class:"sidebar-menu"},po={class:"menu-container"},fo={class:"menu-section"},go=[fe('<div class="menu-icon" data-v-1312d806><svg viewBox="0 0 24 24" width="20" height="20" data-v-1312d806><circle cx="8" cy="8" r="3" fill="currentColor" data-v-1312d806></circle><circle cx="16" cy="8" r="3" fill="currentColor" data-v-1312d806></circle><circle cx="12" cy="16" r="3" fill="currentColor" data-v-1312d806></circle></svg></div><span class="menu-text" data-v-1312d806>生态</span>',2)],bo={class:"sub-menu"},wo={class:"sub-menu-icon"},ho=mo((()=>Y("span",{class:"sub-menu-text"},"企业微信",-1))),yo={class:"sub-sub-menu"},_o={class:"menu-section"},Io={class:"menu-icon"},xo=mo((()=>Y("span",{class:"menu-text"},"脱敏",-1))),Co={class:"sub-menu"},Eo={class:"sub-menu-icon"},ko=mo((()=>Y("span",{class:"sub-menu-text"},"投诉管理",-1))),Po={class:"sub-sub-menu"},Fo={class:"sub-menu-icon"},Ro=mo((()=>Y("span",{class:"sub-menu-text"},"脱敏管理",-1))),To={class:"sub-sub-menu"},So={class:"menu-section"},zo={class:"menu-icon"},Bo=mo((()=>Y("span",{class:"menu-text"},"系统",-1))),Do={class:"sub-menu"},$o={class:"sub-menu-group"},Mo={class:"group-title"},Ko={class:"group-icon"},Vo=mo((()=>Y("span",{class:"group-text"},"组织架构",-1))),Go={class:"sub-sub-menu"},Lo={class:"sub-menu-group"},Oo={class:"group-title"},Ao={class:"group-icon"},Ho=mo((()=>Y("span",{class:"group-text"},"系统配置",-1))),Uo={class:"sub-sub-menu"},jo={class:"sub-menu-group"},No={class:"group-title"},qo={class:"group-icon"},Wo=mo((()=>Y("span",{class:"group-text"},"系统监控",-1))),Yo={class:"sub-sub-menu"},Jo=Ie(t({__name:"SidebarMenu",setup(e){const o=de(),a=ue(),n=s(""),l=s(""),t=s([]),r=i((()=>o.path)),d=e=>{n.value===e?(n.value="",l.value="",t.value=[]):(n.value=e,"ecology"===e?t.value=["enterprise-wechat"]:"desensitization"===e?t.value=["complaint-management","desensitization-management"]:"system"===e&&(t.value=["organizational-structure","system-config","system-monitoring"]))},u=e=>{a.push(e)};return(e,o)=>{const a=R;return w(),G("div",vo,[Y("div",po,[Y("div",fo,[Y("div",{class:A(["menu-item main-menu",{active:"ecology"===n.value}]),onClick:o[0]||(o[0]=e=>d("ecology"))},go,2),ce(Y("div",bo,[Y("div",{class:A(["sub-menu-item",{active:"enterprise-wechat"===l.value}])},[Y("div",wo,[_(a,null,{default:y((()=>[_(m(ge))])),_:1})]),ho,_(a,{class:A(["expand-icon",{expanded:t.value.includes("enterprise-wechat")}])},{default:y((()=>[_(m(be))])),_:1},8,["class"])],2),ce(Y("div",yo,[Y("div",{class:A(["sub-sub-menu-item",{active:"/dashboard/ecology/enterprise-wechat/access-config"===r.value}]),onClick:o[1]||(o[1]=e=>u("/dashboard/ecology/enterprise-wechat/access-config"))}," 接入配置 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/dashboard/ecology/enterprise-wechat/members"===r.value}]),onClick:o[2]||(o[2]=e=>u("/dashboard/ecology/enterprise-wechat/members"))}," 企微成员 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/dashboard/ecology/enterprise-wechat/customer-links"===r.value}]),onClick:o[3]||(o[3]=e=>u("/dashboard/ecology/enterprise-wechat/customer-links"))}," 获客链接 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/dashboard/ecology/enterprise-wechat/customer-link-groups"===r.value}]),onClick:o[4]||(o[4]=e=>u("/dashboard/ecology/enterprise-wechat/customer-link-groups"))}," 获客链接组 ",2)],512),[[me,t.value.includes("enterprise-wechat")]])],512),[[me,"ecology"===n.value]])]),Y("div",_o,[Y("div",{class:A(["menu-item main-menu",{active:"desensitization"===n.value}]),onClick:o[5]||(o[5]=e=>d("desensitization"))},[Y("div",Io,[_(a,null,{default:y((()=>[_(m(ge))])),_:1})]),xo],2),ce(Y("div",Co,[Y("div",{class:A(["sub-menu-item",{active:"complaint-management"===l.value}])},[Y("div",Eo,[_(a,null,{default:y((()=>[_(m(ge))])),_:1})]),ko,_(a,{class:A(["expand-icon",{expanded:t.value.includes("complaint-management")}])},{default:y((()=>[_(m(be))])),_:1},8,["class"])],2),ce(Y("div",Po,[Y("div",{class:A(["sub-sub-menu-item",{active:"/desensitization/complaint/records"===r.value}])}," 投诉记录 ",2)],512),[[me,t.value.includes("complaint-management")]]),Y("div",{class:A(["sub-menu-item",{active:"desensitization-management"===l.value}])},[Y("div",Fo,[_(a,null,{default:y((()=>[_(m(we))])),_:1})]),Ro,_(a,{class:A(["expand-icon",{expanded:t.value.includes("desensitization-management")}])},{default:y((()=>[_(m(be))])),_:1},8,["class"])],2),ce(Y("div",To,[Y("div",{class:A(["sub-sub-menu-item",{active:"/desensitization/management/phrasing"===r.value}])}," 脱敏话术 ",2)],512),[[me,t.value.includes("desensitization-management")]])],512),[[me,"desensitization"===n.value]])]),Y("div",So,[Y("div",{class:A(["menu-item main-menu",{active:"system"===n.value}]),onClick:o[6]||(o[6]=e=>d("system"))},[Y("div",zo,[_(a,null,{default:y((()=>[_(m(he))])),_:1})]),Bo],2),ce(Y("div",Do,[Y("div",$o,[Y("div",Mo,[Y("div",Ko,[_(a,null,{default:y((()=>[_(m(ye))])),_:1})]),Vo,_(a,{class:A(["expand-icon",{expanded:t.value.includes("organizational-structure")}])},{default:y((()=>[_(m(be))])),_:1},8,["class"])]),ce(Y("div",Go,[Y("div",{class:A(["sub-sub-menu-item",{active:"/system/organization/departments"===r.value}])}," 部门设置 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/system/organization/positions"===r.value}])}," 岗位职务 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/system/organization/roles"===r.value}])}," 角色权限 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/system/organization/users"===r.value}])}," 用户管理 ",2)],512),[[me,t.value.includes("organizational-structure")]])]),Y("div",Lo,[Y("div",Oo,[Y("div",Ao,[_(a,null,{default:y((()=>[_(m(he))])),_:1})]),Ho,_(a,{class:A(["expand-icon",{expanded:t.value.includes("system-config")}])},{default:y((()=>[_(m(be))])),_:1},8,["class"])]),ce(Y("div",Uo,[Y("div",{class:A(["sub-sub-menu-item",{active:"/dashboard/system/config/parameters"===r.value}]),onClick:o[7]||(o[7]=e=>u("/dashboard/system/config/parameters"))}," 参数设置 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/dashboard/system/config/site-info"===r.value}]),onClick:o[8]||(o[8]=e=>u("/dashboard/system/config/site-info"))}," 站点信息 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/dashboard/system/config/domain-binding"===r.value}]),onClick:o[9]||(o[9]=e=>u("/dashboard/system/config/domain-binding"))}," 域名绑定 ",2)],512),[[me,t.value.includes("system-config")]])]),Y("div",jo,[Y("div",No,[Y("div",qo,[_(a,null,{default:y((()=>[_(m(_e))])),_:1})]),Wo,_(a,{class:A(["expand-icon",{expanded:t.value.includes("system-monitoring")}])},{default:y((()=>[_(m(be))])),_:1},8,["class"])]),ce(Y("div",Yo,[Y("div",{class:A(["sub-sub-menu-item",{active:"/system/monitoring/login-logs"===r.value}])}," 登录日志 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/system/monitoring/operation-logs"===r.value}])}," 操作日志 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/system/monitoring/online-users"===r.value}])}," 在线用户 ",2)],512),[[me,t.value.includes("system-monitoring")]])])],512),[[me,"system"===n.value]])])])])}}}),[["__scopeId","data-v-1312d806"]]),Qo={class:"dialog-footer"},Xo=Ie(t({__name:"ChangePasswordDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(e,{emit:o}){const a=e,n=o,l=ue(),t=xe(),r=i({get:()=>a.modelValue,set:e=>n("update:modelValue",e)}),d=s(),u=s(!1),c=Ce({oldPassword:"",newPassword:"",confirmPassword:""}),m={oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(e,o,a)=>{o!==c.newPassword?a(new Error("两次输入的密码不一致")):a()},trigger:"blur"}]},v=()=>{r.value=!1,p()},p=()=>{var e;c.oldPassword="",c.newPassword="",c.confirmPassword="",null==(e=d.value)||e.clearValidate()},f=async()=>{if(d.value)try{await d.value.validate(),u.value=!0,await ke.changePassword({oldPassword:c.oldPassword,newPassword:c.newPassword}),Pe.success("密码修改成功，请重新登录"),localStorage.removeItem("remembered_username"),localStorage.removeItem("remembered_password"),localStorage.removeItem("remember_me"),t.clearUser(),v(),l.push("/login")}catch(e){Pe.error(e.message||"修改密码失败")}finally{u.value=!1}};return(e,o)=>{const a=Fe,n=Re,l=Te,t=C,s=Ve;return w(),h(s,{modelValue:r.value,"onUpdate:modelValue":o[3]||(o[3]=e=>r.value=e),title:"修改密码",width:"500px","close-on-click-modal":!1,"z-index":9e3,modal:!0,"append-to-body":!0,"destroy-on-close":!0,onClose:v},{footer:y((()=>[Y("div",Qo,[_(t,{onClick:v},{default:y((()=>[Ee("取消")])),_:1}),_(t,{type:"primary",loading:u.value,onClick:f},{default:y((()=>[Ee(" 确定 ")])),_:1},8,["loading"])])])),default:y((()=>[_(l,{ref_key:"formRef",ref:d,model:c,rules:m,"label-width":"100px"},{default:y((()=>[_(n,{label:"旧密码",prop:"oldPassword"},{default:y((()=>[_(a,{modelValue:c.oldPassword,"onUpdate:modelValue":o[0]||(o[0]=e=>c.oldPassword=e),type:"password",placeholder:"请输入旧密码","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),_(n,{label:"新密码",prop:"newPassword"},{default:y((()=>[_(a,{modelValue:c.newPassword,"onUpdate:modelValue":o[1]||(o[1]=e=>c.newPassword=e),type:"password",placeholder:"请输入新密码","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),_(n,{label:"确认密码",prop:"confirmPassword"},{default:y((()=>[_(a,{modelValue:c.confirmPassword,"onUpdate:modelValue":o[2]||(o[2]=e=>c.confirmPassword=e),type:"password",placeholder:"请再次输入新密码","show-password":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-2c6c8b05"]]),Zo={class:"header-container"},ea=(e=>(ve("data-v-b8c5730d"),e=e(),pe(),e))((()=>Y("div",{class:"header-left"},[Y("h1",{class:"project-title"},"起来啦私域流量管理系统")],-1))),oa={class:"header-right"},aa={class:"user-info"},na={class:"username"},la=Ie(t({__name:"HeaderComponent",setup(e){const o=xe();ue();const a=s(!1),n=async e=>{switch(e){case"changePassword":a.value=!0;break;case"logout":await l()}},l=async()=>{try{await ze.confirm("确定要退出登录吗？","退出确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await ke.logout(),o.clearUser(),Pe.success("退出成功")}catch(e){"cancel"!==e&&Pe.error("退出登录失败")}},t=()=>{Pe.success("密码修改成功"),a.value=!1};return(e,l)=>{const s=R,r=Me,i=uo,d=co,u=io;return w(),G(X,null,[Y("div",Zo,[ea,Y("div",oa,[_(u,{onCommand:n,trigger:"hover"},{dropdown:y((()=>[_(d,null,{default:y((()=>[_(i,{command:"changePassword"},{default:y((()=>[_(s,null,{default:y((()=>[_(m(Be))])),_:1}),Ee(" 修改密码 ")])),_:1}),_(i,{command:"logout",divided:""},{default:y((()=>[_(s,null,{default:y((()=>[_(m(De))])),_:1}),Ee(" 退出登录 ")])),_:1})])),_:1})])),default:y((()=>{var e;return[Y("div",aa,[_(r,{size:32,class:"user-avatar"},{default:y((()=>[_(s,null,{default:y((()=>[_(m($e))])),_:1})])),_:1}),Y("span",na,Se((null==(e=m(o).userInfo)?void 0:e.username)||"用户"),1),_(s,{class:"dropdown-icon"},{default:y((()=>[_(m(T))])),_:1})])]})),_:1})])]),_(Xo,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),onSuccess:t},null,8,["modelValue"])],64)}}}),[["__scopeId","data-v-b8c5730d"]]),ta={class:"layout-container"},sa={class:"main-container"},ra={class:"header"},ia={class:"content"},da=Ie(t({__name:"index",setup(e){const o=xe(),a=i((()=>o.getIsCollapse));return(e,o)=>{const n=b("router-view");return w(),G("div",ta,[Y("div",{class:A(["sidebar",{"sidebar-collapsed":a.value}])},[_(Jo)],2),Y("div",sa,[Y("div",ra,[_(la)]),Y("div",ia,[_(n)])])])}}}),[["__scopeId","data-v-03fe4943"]]);export{da as default};
