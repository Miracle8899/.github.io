import{d as a,r as s,o as l,k as t,e,f as n,g as c,h as d,w as i,s as v,t as u,F as o,q as p,x as r,p as y,l as m,az as h,aA as f,aB as _,aC as g,aD as C,ao as b,_ as k}from"./index-fb5e286d.js";const T=a=>(y("data-v-9789f360"),a=a(),m(),a),x={class:"dashboard-page"},w=T((()=>c("div",{class:"page-header"},[c("h1",{class:"page-title"},"数据概述")],-1))),D={class:"stats-grid"},V={class:"stat-card"},j={class:"stat-icon"},q={class:"stat-content"},z={class:"stat-value"},A=T((()=>c("div",{class:"stat-label"},"今日投诉量",-1))),B={class:"stat-card"},F={class:"stat-icon"},I={class:"stat-content"},M={class:"stat-value"},E=T((()=>c("div",{class:"stat-label"},"今日访问量",-1))),G={class:"stat-card"},H={class:"stat-icon"},J={class:"stat-content"},K={class:"stat-value"},L=T((()=>c("div",{class:"stat-label"},"累计投诉量",-1))),N={class:"stat-card"},O={class:"stat-icon"},P={class:"stat-content"},Q={class:"stat-value"},R=T((()=>c("div",{class:"stat-label"},"通道总数",-1))),S={class:"content-grid"},U={class:"content-card"},W={class:"card-header"},X={class:"card-title"},Y=T((()=>c("span",null,"投诉类型分布",-1))),Z={class:"card-content"},$={key:0,class:"complaint-types"},aa=T((()=>c("div",{class:"type-bullet"},null,-1))),sa={class:"type-text"},la={class:"type-bar"},ta={class:"type-count"},ea={key:1,class:"empty-state"},na=T((()=>c("span",null,"暂无投诉数据",-1))),ca={class:"content-card"},da={class:"card-header"},ia={class:"card-title"},va=T((()=>c("span",null,"热门通道",-1))),ua={class:"card-content"},oa={key:0,class:"popular-channels"},pa={class:"channel-rank"},ra={class:"rank-badge"},ya={class:"channel-info"},ma={class:"channel-name"},ha={class:"channel-stats"},fa={class:"stat-item"},_a={class:"stat-item"},ga={key:1,class:"empty-state"},Ca=T((()=>c("span",null,"暂无通道数据",-1))),ba=k(a({__name:"index",setup(a){const y=s(!1),m=s({todayComplaints:0,todayVisits:0,totalComplaints:0,totalChannels:0,popularChannels:[],complaintTypes:[]});l((()=>{document.title="数据概述",k()}));const k=async()=>{try{y.value=!0;const a=await t.getDashboardData();m.value=a}catch(a){}finally{y.value=!1}},T=a=>{if(!m.value.complaintTypes||0===m.value.complaintTypes.length)return"0%";const s=Math.max(...m.value.complaintTypes.map((a=>ba())));return ba()/s*100+"%"},ba=a=>1;return(a,s)=>{const l=r;return e(),n("div",x,[w,c("div",D,[c("div",V,[c("div",j,[d(l,null,{default:i((()=>[d(v(h))])),_:1})]),c("div",q,[c("div",z,u(m.value.todayComplaints||0),1),A])]),c("div",B,[c("div",F,[d(l,null,{default:i((()=>[d(v(f))])),_:1})]),c("div",I,[c("div",M,u(m.value.todayVisits||0),1),E])]),c("div",G,[c("div",H,[d(l,null,{default:i((()=>[d(v(_))])),_:1})]),c("div",J,[c("div",K,u(m.value.totalComplaints||0),1),L])]),c("div",N,[c("div",O,[d(l,null,{default:i((()=>[d(v(g))])),_:1})]),c("div",P,[c("div",Q,u(m.value.totalChannels||0),1),R])])]),c("div",S,[c("div",U,[c("div",W,[c("div",X,[d(l,null,{default:i((()=>[d(v(C))])),_:1}),Y])]),c("div",Z,[m.value.complaintTypes&&m.value.complaintTypes.length>0?(e(),n("div",$,[(e(!0),n(o,null,p(m.value.complaintTypes,((a,s)=>(e(),n("div",{key:s,class:"complaint-type-item"},[aa,c("div",sa,u(a.complaint_type||"其他"),1),c("div",la,[c("div",{class:"bar-fill",style:b({width:T()})},null,4)]),c("div",ta,u(ba()),1)])))),128))])):(e(),n("div",ea,[d(l,null,{default:i((()=>[d(v(h))])),_:1}),na]))])]),c("div",ca,[c("div",da,[c("div",ia,[d(l,null,{default:i((()=>[d(v(f))])),_:1}),va])]),c("div",ua,[m.value.popularChannels&&m.value.popularChannels.length>0?(e(),n("div",oa,[(e(!0),n(o,null,p(m.value.popularChannels,((a,s)=>(e(),n("div",{key:a.id,class:"channel-item"},[c("div",pa,[c("div",ra,u(s+1),1)]),c("div",ya,[c("div",ma,u(a.channel_name),1),c("div",ha,[c("div",fa,[d(l,null,{default:i((()=>[d(v(f))])),_:1}),c("span",null,u(a.visit_count||0),1)]),c("div",_a,[d(l,null,{default:i((()=>[d(v(h))])),_:1}),c("span",null,u(a.complaint_count||0),1)])])])])))),128))])):(e(),n("div",ga,[d(l,null,{default:i((()=>[d(v(g))])),_:1}),Ca]))])])])])}}}),[["__scopeId","data-v-9789f360"]]);export{ba as default};
