import{M as e,N as o,O as n,P as a,Q as l,d as t,r,R as s,A as i,S as d,T as u,U as c,h as p,V as v,W as m,X as f,Y as g,Z as w,c as b,$ as h,w as y,g as I,a0 as _,a1 as E,q as C,a2 as P,a3 as k,a4 as x,a5 as F,G as R,a6 as T,a7 as S,a8 as B,a9 as D,aa as $,ab as M,ac as V,ad as z,ae as K,e as G,af as L,ag as O,H as A,I as H,ah as U,ai as j,aj as N,ak as q,al as W,f as Y,am as J,k as Q,F as X,an as Z,ao as ee,ap as oe,aq as ne,ar as ae,as as le,at as te,au as re,av as se,aw as ie,B as de,u as ue,ax as ce,ay as pe,v as ve,x as me,L as fe,az as ge,aA as we,_ as be,a as he,b as ye,j as Ie,l as _e,E as Ee,m as Ce,n as Pe,s as ke,t as xe,aB as Fe,aC as Re,aD as Te,y as Se}from"./index-9d598a61.js";import{E as Be}from"./avatar-d244dfb4.js";import{c as De,E as $e}from"./overlay-42c35654.js";const Me=e({style:{type:o([String,Array,Object])},currentTabId:{type:o(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:o(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Ve,ElCollectionItem:ze,COLLECTION_INJECTION_KEY:Ke,COLLECTION_ITEM_INJECTION_KEY:Ge}=n("RovingFocusGroup"),Le=Symbol("elRovingFocusGroup"),Oe=Symbol("elRovingFocusGroupItem"),Ae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},He=(e,o,n)=>{const l=((e,o)=>{if("rtl"!==o)return e;switch(e){case a.right:return a.left;case a.left:return a.right;default:return e}})(e.code,n);if(!("vertical"===o&&[a.left,a.right].includes(l)||"horizontal"===o&&[a.up,a.down].includes(l)))return Ae[l]},Ue=e=>{const{activeElement:o}=document;for(const n of e){if(n===o)return;if(n.focus(),o!==document.activeElement)return}},je="currentTabIdChange",Ne="rovingFocusGroup.entryFocus",qe={bubbles:!1,cancelable:!0},We=t({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Me,emits:[je,"entryFocus"],setup(e,{emit:o}){var n;const a=r(null!=(n=e.currentTabId||e.defaultCurrentTabId)?n:null),l=r(!1),t=r(!1),f=r(null),{getItems:w}=s(Ke,void 0),b=i((()=>[{outline:"none"},e.style])),h=g((o=>{var n;null==(n=e.onMousedown)||n.call(e,o)}),(()=>{t.value=!0})),y=g((o=>{var n;null==(n=e.onFocus)||n.call(e,o)}),(e=>{const o=!p(t),{target:n,currentTarget:r}=e;if(n===r&&o&&!p(l)){const e=new Event(Ne,qe);if(null==r||r.dispatchEvent(e),!e.defaultPrevented){const e=w().filter((e=>e.focusable)),o=[e.find((e=>e.active)),e.find((e=>e.id===p(a))),...e].filter(Boolean).map((e=>e.ref));Ue(o)}}t.value=!1})),I=g((o=>{var n;null==(n=e.onBlur)||n.call(e,o)}),(()=>{l.value=!1}));d(Le,{currentTabbedId:u(a),loop:c(e,"loop"),tabIndex:i((()=>p(l)?-1:0)),rovingFocusGroupRef:f,rovingFocusGroupRootStyle:b,orientation:c(e,"orientation"),dir:c(e,"dir"),onItemFocus:e=>{o(je,e)},onItemShiftTab:()=>{l.value=!0},onBlur:I,onFocus:y,onMousedown:h}),v((()=>e.currentTabId),(e=>{a.value=null!=e?e:null})),m(f,Ne,((...e)=>{o("entryFocus",...e)}))}});var Ye=l(t({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Ve,ElRovingFocusGroupImpl:l(We,[["render",function(e,o,n,a,l,t){return f(e.$slots,"default")}],["__file","roving-focus-group-impl.vue"]])}}),[["render",function(e,o,n,a,l,t){const r=w("el-roving-focus-group-impl"),s=w("el-focus-group-collection");return b(),h(s,null,{default:y((()=>[I(r,_(E(e.$attrs)),{default:y((()=>[f(e.$slots,"default")])),_:3},16)])),_:3})}],["__file","roving-focus-group.vue"]]);const Je=Symbol("elDropdown"),{ButtonGroup:Qe}=C;var Xe=l(t({name:"ElDropdown",components:{ElButton:C,ElButtonGroup:Qe,ElScrollbar:P,ElDropdownCollection:k,ElTooltip:x,ElRovingFocusGroup:Ye,ElOnlyChild:F,ElIcon:R,ArrowDown:T},props:S,emits:["visible-change","click","command"],setup(e,{emit:o}){const n=U(),a=B("dropdown"),{t:l}=D(),t=r(),s=r(),u=r(null),m=r(null),f=r(null),g=r(null),w=r(!1),b=i((()=>({maxHeight:$(e.maxHeight)}))),h=i((()=>[a.m(C.value)])),y=i((()=>M(e.trigger))),I=V().value,_=i((()=>e.id||I));function E(){var e;null==(e=u.value)||e.onClose()}v([t,y],(([e,o],[n])=>{var a,l,t;(null==(a=null==n?void 0:n.$el)?void 0:a.removeEventListener)&&n.$el.removeEventListener("pointerenter",P),(null==(l=null==e?void 0:e.$el)?void 0:l.removeEventListener)&&e.$el.removeEventListener("pointerenter",P),(null==(t=null==e?void 0:e.$el)?void 0:t.addEventListener)&&o.includes("hover")&&e.$el.addEventListener("pointerenter",P)}),{immediate:!0}),z((()=>{var e,o;(null==(o=null==(e=t.value)?void 0:e.$el)?void 0:o.removeEventListener)&&t.value.$el.removeEventListener("pointerenter",P)}));const C=K();function P(){var e,o;null==(o=null==(e=t.value)?void 0:e.$el)||o.focus()}d(Je,{contentRef:m,role:i((()=>e.role)),triggerId:_,isUsingKeyboard:w,onItemEnter:function(){},onItemLeave:function(){const e=p(m);y.value.includes("hover")&&(null==e||e.focus()),g.value=null}}),d("elDropdown",{instance:n,dropdownSize:C,handleClick:function(){E()},commandHandler:function(...e){o("command",...e)},trigger:c(e,"trigger"),hideOnClick:c(e,"hideOnClick")});return{t:l,ns:a,scrollbar:f,wrapStyle:b,dropdownTriggerKls:h,dropdownSize:C,triggerId:_,currentTabId:g,handleCurrentTabIdChange:function(e){g.value=e},handlerMainButtonClick:e=>{o("click",e)},handleEntryFocus:function(e){w.value||(e.preventDefault(),e.stopImmediatePropagation())},handleClose:E,handleOpen:function(){var e;null==(e=u.value)||e.onOpen()},handleBeforeShowTooltip:function(){o("visible-change",!0)},handleShowTooltip:function(e){"keydown"===(null==e?void 0:e.type)&&m.value.focus()},handleBeforeHideTooltip:function(){o("visible-change",!1)},onFocusAfterTrapped:e=>{var o,n;e.preventDefault(),null==(n=null==(o=m.value)?void 0:o.focus)||n.call(o,{preventScroll:!0})},popperRef:u,contentRef:m,triggeringElementRef:t,referenceElementRef:s}}}),[["render",function(e,o,n,a,l,t){var r;const s=w("el-dropdown-collection"),i=w("el-roving-focus-group"),d=w("el-scrollbar"),u=w("el-only-child"),c=w("el-tooltip"),p=w("el-button"),v=w("arrow-down"),m=w("el-icon"),g=w("el-button-group");return b(),G("div",{class:A([e.ns.b(),e.ns.is("disabled",e.disabled)])},[I(c,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":"hover"===e.trigger?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":null==(r=e.referenceElementRef)?void 0:r.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":"hover"===e.trigger?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},L({content:y((()=>[I(d,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:y((()=>[I(i,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:y((()=>[I(s,null,{default:y((()=>[f(e.$slots,"dropdown")])),_:3})])),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])])),_:3},8,["wrap-style","view-class"])])),_:2},[e.splitButton?void 0:{name:"default",fn:y((()=>[I(u,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:y((()=>[f(e.$slots,"default")])),_:3},8,["id","tabindex"])]))}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(b(),h(g,{key:0},{default:y((()=>[I(p,O({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:y((()=>[f(e.$slots,"default")])),_:3},16,["size","type","disabled","tabindex","onClick"]),I(p,O({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:y((()=>[I(m,{class:A(e.ns.e("icon"))},{default:y((()=>[I(v)])),_:1},8,["class"])])),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])])),_:3})):H("v-if",!0)],2)}],["__file","dropdown.vue"]]);var Ze=l(t({components:{ElRovingFocusCollectionItem:ze},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:n,loop:l,onItemFocus:t,onItemShiftTab:u}=s(Le,void 0),{getItems:c}=s(Ke,void 0),v=V(),m=r(null),f=g((e=>{o("mousedown",e)}),(o=>{e.focusable?t(p(v)):o.preventDefault()})),w=g((e=>{o("focus",e)}),(()=>{t(p(v))})),b=g((e=>{o("keydown",e)}),(e=>{const{code:o,shiftKey:n,target:t,currentTarget:r}=e;if(o===a.tab&&n)return void u();if(t!==r)return;const s=He(e);if(s){e.preventDefault();let o=c().filter((e=>e.focusable)).map((e=>e.ref));switch(s){case"last":o.reverse();break;case"prev":case"next":{"prev"===s&&o.reverse();const e=o.indexOf(r);o=l.value?(d=e+1,(i=o).map(((e,o)=>i[(o+d)%i.length]))):o.slice(e+1);break}}j((()=>{Ue(o)}))}var i,d})),h=i((()=>n.value===p(v)));return d(Oe,{rovingFocusGroupItemRef:m,tabIndex:i((()=>p(h)?0:-1)),handleMousedown:f,handleFocus:w,handleKeydown:b}),{id:v,handleKeydown:b,handleFocus:w,handleMousedown:f}}}),[["render",function(e,o,n,a,l,t){const r=w("el-roving-focus-collection-item");return b(),h(r,{id:e.id,focusable:e.focusable,active:e.active},{default:y((()=>[f(e.$slots,"default")])),_:3},8,["id","focusable","active"])}],["__file","roving-focus-item.vue"]]);const eo=t({name:"DropdownItemImpl",components:{ElIcon:R},props:N,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const n=B("dropdown"),{role:l}=s(Je,void 0),{collectionItemRef:t}=s(q,void 0),{collectionItemRef:r}=s(Ge,void 0),{rovingFocusGroupItemRef:d,tabIndex:u,handleFocus:c,handleKeydown:p,handleMousedown:v}=s(Oe,void 0),m=De(t,r,d),f=i((()=>"menu"===l.value?"menuitem":"navigation"===l.value?"link":"button")),w=g((e=>{if([a.enter,a.numpadEnter,a.space].includes(e.code))return e.preventDefault(),e.stopImmediatePropagation(),o("clickimpl",e),!0}),p);return{ns:n,itemRef:m,dataset:{[W]:""},role:f,tabIndex:u,handleFocus:c,handleKeydown:w,handleMousedown:v}}});const oo=()=>{const e=s("elDropdown",{}),o=i((()=>null==e?void 0:e.dropdownSize));return{elDropdown:e,_elDropdownSize:o}};var no=l(t({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Z,ElRovingFocusItem:Ze,ElDropdownItemImpl:l(eo,[["render",function(e,o,n,a,l,t){const r=w("el-icon");return b(),G(X,null,[e.divided?(b(),G("li",{key:0,role:"separator",class:A(e.ns.bem("menu","item","divided"))},null,2)):H("v-if",!0),Y("li",O({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o=>e.$emit("clickimpl",o),onFocus:e.handleFocus,onKeydown:Q(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:o=>e.$emit("pointermove",o),onPointerleave:o=>e.$emit("pointerleave",o)}),[e.icon?(b(),h(r,{key:0},{default:y((()=>[(b(),h(J(e.icon)))])),_:1})):H("v-if",!0),f(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}],["__file","dropdown-item-impl.vue"]])},inheritAttrs:!1,props:N,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:n}){const{elDropdown:a}=oo(),l=U(),t=r(null),d=i((()=>{var e,o;return null!=(o=null==(e=p(t))?void 0:e.textContent)?o:""})),{onItemEnter:u,onItemLeave:c}=s(Je,void 0),v=g((e=>(o("pointermove",e),e.defaultPrevented)),ee((o=>{if(e.disabled)return void c(o);const n=o.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(u(o),o.defaultPrevented||null==n||n.focus())}))),m=g((e=>(o("pointerleave",e),e.defaultPrevented)),ee(c));return{handleClick:g((n=>{if(!e.disabled)return o("click",n),"keydown"!==n.type&&n.defaultPrevented}),(o=>{var n,t,r;e.disabled?o.stopImmediatePropagation():((null==(n=null==a?void 0:a.hideOnClick)?void 0:n.value)&&(null==(t=a.handleClick)||t.call(a)),null==(r=a.commandHandler)||r.call(a,e.command,l,o))})),handlePointerMove:v,handlePointerLeave:m,textContent:d,propsAndAttrs:i((()=>({...e,...n})))}}}),[["render",function(e,o,n,a,l,t){var r;const s=w("el-dropdown-item-impl"),i=w("el-roving-focus-item"),d=w("el-dropdown-collection-item");return b(),h(d,{disabled:e.disabled,"text-value":null!=(r=e.textValue)?r:e.textContent},{default:y((()=>[I(i,{focusable:!e.disabled},{default:y((()=>[I(s,O(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:y((()=>[f(e.$slots,"default")])),_:3},16,["onPointerleave","onPointermove","onClickimpl"])])),_:3},8,["focusable"])])),_:3},8,["disabled","text-value"])}],["__file","dropdown-item.vue"]]);var ao=l(t({name:"ElDropdownMenu",props:oe,setup(e){const o=B("dropdown"),{_elDropdownSize:n}=oo(),l=n.value,{focusTrapRef:t,onKeydown:r}=s(ne,void 0),{contentRef:d,role:u,triggerId:c}=s(Je,void 0),{collectionRef:v,getItems:m}=s(ae,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:w,tabIndex:b,onBlur:h,onFocus:y,onMousedown:I}=s(Le,void 0),{collectionRef:_}=s(Ke,void 0),E=i((()=>[o.b("menu"),o.bm("menu",null==l?void 0:l.value)])),C=De(d,v,t,f,_),P=g((o=>{var n;null==(n=e.onKeydown)||n.call(e,o)}),(e=>{const{currentTarget:o,code:n,target:l}=e;if(o.contains(l),a.tab===n&&e.stopImmediatePropagation(),e.preventDefault(),l!==p(d)||!te.includes(n))return;const t=m().filter((e=>!e.disabled)).map((e=>e.ref));re.includes(n)&&t.reverse(),Ue(t)}));return{size:l,rovingFocusGroupRootStyle:w,tabIndex:b,dropdownKls:E,role:u,triggerId:c,dropdownListWrapperRef:C,handleKeydown:e=>{P(e),r(e)},onBlur:h,onFocus:y,onMousedown:I}}}),[["render",function(e,o,n,a,l,t){return b(),G("ul",{ref:e.dropdownListWrapperRef,class:A(e.dropdownKls),style:le(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:Q(e.handleKeydown,["self"]),onMousedown:Q(e.onMousedown,["self"])},[f(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}],["__file","dropdown-menu.vue"]]);const lo=se(Xe,{DropdownItem:no,DropdownMenu:ao}),to=ie(no),ro=ie(ao),so=e=>(ve("data-v-81f41564"),e=e(),me(),e),io={class:"sidebar-menu"},uo={class:"menu-container"},co={class:"menu-section"},po=[fe('<div class="menu-icon" data-v-81f41564><svg viewBox="0 0 24 24" width="20" height="20" data-v-81f41564><circle cx="8" cy="8" r="3" fill="currentColor" data-v-81f41564></circle><circle cx="16" cy="8" r="3" fill="currentColor" data-v-81f41564></circle><circle cx="12" cy="16" r="3" fill="currentColor" data-v-81f41564></circle></svg></div><span class="menu-text" data-v-81f41564>生态</span>',2)],vo={class:"sub-menu"},mo={class:"sub-menu-icon"},fo=so((()=>Y("span",{class:"sub-menu-text"},"企业微信",-1))),go={class:"sub-sub-menu"},wo=so((()=>Y("div",{class:"menu-section"},null,-1))),bo=be(t({__name:"SidebarMenu",setup(e){const o=de(),n=ue(),a=r(""),l=r(""),t=r([]),s=i((()=>o.path)),d=e=>{n.push(e)};return(e,o)=>{const n=R;return b(),G("div",io,[Y("div",uo,[Y("div",co,[Y("div",{class:A(["menu-item main-menu",{active:"ecology"===a.value}]),onClick:o[0]||(o[0]=e=>{return o="ecology",void(a.value===o?(a.value="",l.value="",t.value=[]):(a.value=o,"ecology"===o?t.value=["enterprise-wechat"]:"desensitization"===o?t.value=["complaint-management","desensitization-management"]:"system"===o&&(t.value=["organizational-structure","system-config","system-monitoring"])));var o})},po,2),ce(Y("div",vo,[Y("div",{class:A(["sub-menu-item",{active:"enterprise-wechat"===l.value}])},[Y("div",mo,[I(n,null,{default:y((()=>[I(p(ge))])),_:1})]),fo,I(n,{class:A(["expand-icon",{expanded:t.value.includes("enterprise-wechat")}])},{default:y((()=>[I(p(we))])),_:1},8,["class"])],2),ce(Y("div",go,[Y("div",{class:A(["sub-sub-menu-item",{active:"/dashboard/channels"===s.value}]),onClick:o[1]||(o[1]=e=>d("/dashboard/channels"))}," 通道管理 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/dashboard/complaint-management"===s.value}]),onClick:o[2]||(o[2]=e=>d("/dashboard/complaint-management"))}," 投诉管理 ",2),Y("div",{class:A(["sub-sub-menu-item",{active:"/dashboard/system/webhook-config"===s.value}]),onClick:o[3]||(o[3]=e=>d("/dashboard/system/webhook-config"))}," 机器人Webhook配置 ",2)],512),[[pe,t.value.includes("enterprise-wechat")]])],512),[[pe,"ecology"===a.value]])]),wo])])}}}),[["__scopeId","data-v-81f41564"]]),ho={class:"dialog-footer"},yo=be(t({__name:"ChangePasswordDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(e,{emit:o}){const n=e,a=o,l=ue(),t=he(),s=i({get:()=>n.modelValue,set:e=>a("update:modelValue",e)}),d=r(),u=r(!1),c=ye({oldPassword:"",newPassword:"",confirmPassword:""}),p={oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(e,o,n)=>{o!==c.newPassword?n(new Error("两次输入的密码不一致")):n()},trigger:"blur"}]},v=()=>{s.value=!1,m()},m=()=>{var e;c.oldPassword="",c.newPassword="",c.confirmPassword="",null==(e=d.value)||e.clearValidate()},f=async()=>{if(d.value)try{await d.value.validate(),u.value=!0,await _e.changePassword({oldPassword:c.oldPassword,newPassword:c.newPassword}),Ee.success("密码修改成功，请重新登录"),localStorage.removeItem("remembered_username"),localStorage.removeItem("remembered_password"),localStorage.removeItem("remember_me"),t.clearUser(),v(),l.push("/login")}catch(e){Ee.error(e.message||"修改密码失败")}finally{u.value=!1}};return(e,o)=>{const n=Ce,a=Pe,l=ke,t=C,r=$e;return b(),h(r,{modelValue:s.value,"onUpdate:modelValue":o[3]||(o[3]=e=>s.value=e),title:"修改密码",width:"500px","close-on-click-modal":!1,"z-index":9e3,modal:!0,"append-to-body":!0,"destroy-on-close":!0,onClose:v},{footer:y((()=>[Y("div",ho,[I(t,{onClick:v},{default:y((()=>[Ie("取消")])),_:1}),I(t,{type:"primary",loading:u.value,onClick:f},{default:y((()=>[Ie(" 确定 ")])),_:1},8,["loading"])])])),default:y((()=>[I(l,{ref_key:"formRef",ref:d,model:c,rules:p,"label-width":"100px"},{default:y((()=>[I(a,{label:"旧密码",prop:"oldPassword"},{default:y((()=>[I(n,{modelValue:c.oldPassword,"onUpdate:modelValue":o[0]||(o[0]=e=>c.oldPassword=e),type:"password",placeholder:"请输入旧密码","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),I(a,{label:"新密码",prop:"newPassword"},{default:y((()=>[I(n,{modelValue:c.newPassword,"onUpdate:modelValue":o[1]||(o[1]=e=>c.newPassword=e),type:"password",placeholder:"请输入新密码","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),I(a,{label:"确认密码",prop:"confirmPassword"},{default:y((()=>[I(n,{modelValue:c.confirmPassword,"onUpdate:modelValue":o[2]||(o[2]=e=>c.confirmPassword=e),type:"password",placeholder:"请再次输入新密码","show-password":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-2c6c8b05"]]),Io={class:"header-container"},_o=(e=>(ve("data-v-9d5d3751"),e=e(),me(),e))((()=>Y("div",{class:"header-left"},[Y("h1",{class:"project-title"},"企飞啦私域流量管理系统")],-1))),Eo={class:"header-right"},Co={class:"user-info"},Po={class:"username"},ko=be(t({__name:"HeaderComponent",setup(e){const o=he();ue();const n=r(!1),a=async e=>{switch(e){case"changePassword":n.value=!0;break;case"logout":await l()}},l=async()=>{try{await Fe.confirm("确定要退出登录吗？","退出确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await _e.logout(),o.clearUser(),Ee.success("退出成功")}catch(e){"cancel"!==e&&Ee.error("退出登录失败")}},t=()=>{Ee.success("密码修改成功"),n.value=!1};return(e,l)=>{const r=R,s=Be,i=to,d=ro,u=lo;return b(),G(X,null,[Y("div",Io,[_o,Y("div",Eo,[I(u,{onCommand:a,trigger:"hover"},{dropdown:y((()=>[I(d,null,{default:y((()=>[I(i,{command:"changePassword"},{default:y((()=>[I(r,null,{default:y((()=>[I(p(Re))])),_:1}),Ie(" 修改密码 ")])),_:1}),I(i,{command:"logout",divided:""},{default:y((()=>[I(r,null,{default:y((()=>[I(p(Te))])),_:1}),Ie(" 退出登录 ")])),_:1})])),_:1})])),default:y((()=>{var e;return[Y("div",Co,[I(s,{size:32,class:"user-avatar"},{default:y((()=>[I(r,null,{default:y((()=>[I(p(Se))])),_:1})])),_:1}),Y("span",Po,xe((null==(e=p(o).userInfo)?void 0:e.username)||"用户"),1),I(r,{class:"dropdown-icon"},{default:y((()=>[I(p(T))])),_:1})])]})),_:1})])]),I(yo,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value=e),onSuccess:t},null,8,["modelValue"])],64)}}}),[["__scopeId","data-v-9d5d3751"]]),xo={class:"layout-container"},Fo={class:"main-container"},Ro={class:"header"},To={class:"content"},So=be(t({__name:"index",setup(e){const o=he(),n=i((()=>o.getIsCollapse));return(e,o)=>{const a=w("router-view");return b(),G("div",xo,[Y("div",{class:A(["sidebar",{"sidebar-collapsed":n.value}])},[I(bo)],2),Y("div",Fo,[Y("div",Ro,[I(ko)]),Y("div",To,[I(a)])])])}}}),[["__scopeId","data-v-03fe4943"]]);export{So as default};
