import{H as e,I as o,J as n,K as l,L as a,d as t,r,M as s,N as d,O as i,P as u,Q as c,s as p,R as m,S as v,T as f,U as g,c as w,e as b,V as h,w as y,h as I,W as _,X as E,C,Y as P,Z as k,$ as F,a0 as x,x as R,a1 as T,a2 as S,a3 as B,a4 as D,a5 as $,a6 as M,a7 as K,a8 as V,a9 as L,f as G,aa as z,ab as O,y as A,z as U,ac as H,ad as j,ae as N,af as q,ag as J,g as W,ah as Y,ai as Q,F as X,aj as Z,ak as ee,al as oe,am as ne,an as le,ao as ae,ap as te,aq as re,ar as se,as as de,m as ie,u as ue,j as ce,p as pe,l as me,_ as ve,a as fe,b as ge,k as we,E as be,A as he,at as ye,au as Ie,t as _e,av as Ee,aw as Ce,ax as Pe,ay as ke}from"./index-fb5e286d.js";import{E as Fe}from"./avatar-ce66d977.js";import{c as xe,E as Re}from"./overlay-3e3646f0.js";const Te=e({style:{type:o([String,Array,Object])},currentTabId:{type:o(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:o(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Se,ElCollectionItem:Be,COLLECTION_INJECTION_KEY:De,COLLECTION_ITEM_INJECTION_KEY:$e}=n("RovingFocusGroup"),Me=Symbol("elRovingFocusGroup"),Ke=Symbol("elRovingFocusGroupItem"),Ve={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Le=(e,o,n)=>{const a=((e,o)=>{if("rtl"!==o)return e;switch(e){case l.right:return l.left;case l.left:return l.right;default:return e}})(e.code,n);if(!("vertical"===o&&[l.left,l.right].includes(a)||"horizontal"===o&&[l.up,l.down].includes(a)))return Ve[a]},Ge=e=>{const{activeElement:o}=document;for(const n of e){if(n===o)return;if(n.focus(),o!==document.activeElement)return}},ze="currentTabIdChange",Oe="rovingFocusGroup.entryFocus",Ae={bubbles:!1,cancelable:!0},Ue=t({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Te,emits:[ze,"entryFocus"],setup(e,{emit:o}){var n;const l=r(null!=(n=e.currentTabId||e.defaultCurrentTabId)?n:null),a=r(!1),t=r(!1),f=r(null),{getItems:w}=s(De,void 0),b=d((()=>[{outline:"none"},e.style])),h=g((o=>{var n;null==(n=e.onMousedown)||n.call(e,o)}),(()=>{t.value=!0})),y=g((o=>{var n;null==(n=e.onFocus)||n.call(e,o)}),(e=>{const o=!p(t),{target:n,currentTarget:r}=e;if(n===r&&o&&!p(a)){const e=new Event(Oe,Ae);if(null==r||r.dispatchEvent(e),!e.defaultPrevented){const e=w().filter((e=>e.focusable)),o=[e.find((e=>e.active)),e.find((e=>e.id===p(l))),...e].filter(Boolean).map((e=>e.ref));Ge(o)}}t.value=!1})),I=g((o=>{var n;null==(n=e.onBlur)||n.call(e,o)}),(()=>{a.value=!1}));i(Me,{currentTabbedId:u(l),loop:c(e,"loop"),tabIndex:d((()=>p(a)?-1:0)),rovingFocusGroupRef:f,rovingFocusGroupRootStyle:b,orientation:c(e,"orientation"),dir:c(e,"dir"),onItemFocus:e=>{o(ze,e)},onItemShiftTab:()=>{a.value=!0},onBlur:I,onFocus:y,onMousedown:h}),m((()=>e.currentTabId),(e=>{l.value=null!=e?e:null})),v(f,Oe,((...e)=>{o("entryFocus",...e)}))}});var He=a(t({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Se,ElRovingFocusGroupImpl:a(Ue,[["render",function(e,o,n,l,a,t){return f(e.$slots,"default")}],["__file","roving-focus-group-impl.vue"]])}}),[["render",function(e,o,n,l,a,t){const r=w("el-roving-focus-group-impl"),s=w("el-focus-group-collection");return b(),h(s,null,{default:y((()=>[I(r,_(E(e.$attrs)),{default:y((()=>[f(e.$slots,"default")])),_:3},16)])),_:3})}],["__file","roving-focus-group.vue"]]);const je=Symbol("elDropdown"),{ButtonGroup:Ne}=C;var qe=a(t({name:"ElDropdown",components:{ElButton:C,ElButtonGroup:Ne,ElScrollbar:P,ElDropdownCollection:k,ElTooltip:F,ElRovingFocusGroup:He,ElOnlyChild:x,ElIcon:R,ArrowDown:T},props:S,emits:["visible-change","click","command"],setup(e,{emit:o}){const n=H(),l=B("dropdown"),{t:a}=D(),t=r(),s=r(),u=r(null),v=r(null),f=r(null),g=r(null),w=r(!1),b=d((()=>({maxHeight:$(e.maxHeight)}))),h=d((()=>[l.m(C.value)])),y=d((()=>M(e.trigger))),I=K().value,_=d((()=>e.id||I));function E(){var e;null==(e=u.value)||e.onClose()}m([t,y],(([e,o],[n])=>{var l,a,t;(null==(l=null==n?void 0:n.$el)?void 0:l.removeEventListener)&&n.$el.removeEventListener("pointerenter",P),(null==(a=null==e?void 0:e.$el)?void 0:a.removeEventListener)&&e.$el.removeEventListener("pointerenter",P),(null==(t=null==e?void 0:e.$el)?void 0:t.addEventListener)&&o.includes("hover")&&e.$el.addEventListener("pointerenter",P)}),{immediate:!0}),V((()=>{var e,o;(null==(o=null==(e=t.value)?void 0:e.$el)?void 0:o.removeEventListener)&&t.value.$el.removeEventListener("pointerenter",P)}));const C=L();function P(){var e,o;null==(o=null==(e=t.value)?void 0:e.$el)||o.focus()}i(je,{contentRef:v,role:d((()=>e.role)),triggerId:_,isUsingKeyboard:w,onItemEnter:function(){},onItemLeave:function(){const e=p(v);y.value.includes("hover")&&(null==e||e.focus()),g.value=null}}),i("elDropdown",{instance:n,dropdownSize:C,handleClick:function(){E()},commandHandler:function(...e){o("command",...e)},trigger:c(e,"trigger"),hideOnClick:c(e,"hideOnClick")});return{t:a,ns:l,scrollbar:f,wrapStyle:b,dropdownTriggerKls:h,dropdownSize:C,triggerId:_,currentTabId:g,handleCurrentTabIdChange:function(e){g.value=e},handlerMainButtonClick:e=>{o("click",e)},handleEntryFocus:function(e){w.value||(e.preventDefault(),e.stopImmediatePropagation())},handleClose:E,handleOpen:function(){var e;null==(e=u.value)||e.onOpen()},handleBeforeShowTooltip:function(){o("visible-change",!0)},handleShowTooltip:function(e){"keydown"===(null==e?void 0:e.type)&&v.value.focus()},handleBeforeHideTooltip:function(){o("visible-change",!1)},onFocusAfterTrapped:e=>{var o,n;e.preventDefault(),null==(n=null==(o=v.value)?void 0:o.focus)||n.call(o,{preventScroll:!0})},popperRef:u,contentRef:v,triggeringElementRef:t,referenceElementRef:s}}}),[["render",function(e,o,n,l,a,t){var r;const s=w("el-dropdown-collection"),d=w("el-roving-focus-group"),i=w("el-scrollbar"),u=w("el-only-child"),c=w("el-tooltip"),p=w("el-button"),m=w("arrow-down"),v=w("el-icon"),g=w("el-button-group");return b(),G("div",{class:A([e.ns.b(),e.ns.is("disabled",e.disabled)])},[I(c,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":"hover"===e.trigger?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":null==(r=e.referenceElementRef)?void 0:r.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":"hover"===e.trigger?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},z({content:y((()=>[I(i,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:y((()=>[I(d,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:y((()=>[I(s,null,{default:y((()=>[f(e.$slots,"dropdown")])),_:3})])),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])])),_:3},8,["wrap-style","view-class"])])),_:2},[e.splitButton?void 0:{name:"default",fn:y((()=>[I(u,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:y((()=>[f(e.$slots,"default")])),_:3},8,["id","tabindex"])]))}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(b(),h(g,{key:0},{default:y((()=>[I(p,O({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:y((()=>[f(e.$slots,"default")])),_:3},16,["size","type","disabled","tabindex","onClick"]),I(p,O({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:y((()=>[I(v,{class:A(e.ns.e("icon"))},{default:y((()=>[I(m)])),_:1},8,["class"])])),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])])),_:3})):U("v-if",!0)],2)}],["__file","dropdown.vue"]]);var Je=a(t({components:{ElRovingFocusCollectionItem:Be},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:n,loop:a,onItemFocus:t,onItemShiftTab:u}=s(Me,void 0),{getItems:c}=s(De,void 0),m=K(),v=r(null),f=g((e=>{o("mousedown",e)}),(o=>{e.focusable?t(p(m)):o.preventDefault()})),w=g((e=>{o("focus",e)}),(()=>{t(p(m))})),b=g((e=>{o("keydown",e)}),(e=>{const{code:o,shiftKey:n,target:t,currentTarget:r}=e;if(o===l.tab&&n)return void u();if(t!==r)return;const s=Le(e);if(s){e.preventDefault();let o=c().filter((e=>e.focusable)).map((e=>e.ref));switch(s){case"last":o.reverse();break;case"prev":case"next":{"prev"===s&&o.reverse();const e=o.indexOf(r);o=a.value?(i=e+1,(d=o).map(((e,o)=>d[(o+i)%d.length]))):o.slice(e+1);break}}j((()=>{Ge(o)}))}var d,i})),h=d((()=>n.value===p(m)));return i(Ke,{rovingFocusGroupItemRef:v,tabIndex:d((()=>p(h)?0:-1)),handleMousedown:f,handleFocus:w,handleKeydown:b}),{id:m,handleKeydown:b,handleFocus:w,handleMousedown:f}}}),[["render",function(e,o,n,l,a,t){const r=w("el-roving-focus-collection-item");return b(),h(r,{id:e.id,focusable:e.focusable,active:e.active},{default:y((()=>[f(e.$slots,"default")])),_:3},8,["id","focusable","active"])}],["__file","roving-focus-item.vue"]]);const We=t({name:"DropdownItemImpl",components:{ElIcon:R},props:N,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const n=B("dropdown"),{role:a}=s(je,void 0),{collectionItemRef:t}=s(q,void 0),{collectionItemRef:r}=s($e,void 0),{rovingFocusGroupItemRef:i,tabIndex:u,handleFocus:c,handleKeydown:p,handleMousedown:m}=s(Ke,void 0),v=xe(t,r,i),f=d((()=>"menu"===a.value?"menuitem":"navigation"===a.value?"link":"button")),w=g((e=>{if([l.enter,l.numpadEnter,l.space].includes(e.code))return e.preventDefault(),e.stopImmediatePropagation(),o("clickimpl",e),!0}),p);return{ns:n,itemRef:v,dataset:{[J]:""},role:f,tabIndex:u,handleFocus:c,handleKeydown:w,handleMousedown:m}}});const Ye=()=>{const e=s("elDropdown",{}),o=d((()=>null==e?void 0:e.dropdownSize));return{elDropdown:e,_elDropdownSize:o}};var Qe=a(t({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Z,ElRovingFocusItem:Je,ElDropdownItemImpl:a(We,[["render",function(e,o,n,l,a,t){const r=w("el-icon");return b(),G(X,null,[e.divided?(b(),G("li",{key:0,role:"separator",class:A(e.ns.bem("menu","item","divided"))},null,2)):U("v-if",!0),W("li",O({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o=>e.$emit("clickimpl",o),onFocus:e.handleFocus,onKeydown:Q(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:o=>e.$emit("pointermove",o),onPointerleave:o=>e.$emit("pointerleave",o)}),[e.icon?(b(),h(r,{key:0},{default:y((()=>[(b(),h(Y(e.icon)))])),_:1})):U("v-if",!0),f(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}],["__file","dropdown-item-impl.vue"]])},inheritAttrs:!1,props:N,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:n}){const{elDropdown:l}=Ye(),a=H(),t=r(null),i=d((()=>{var e,o;return null!=(o=null==(e=p(t))?void 0:e.textContent)?o:""})),{onItemEnter:u,onItemLeave:c}=s(je,void 0),m=g((e=>(o("pointermove",e),e.defaultPrevented)),ee((o=>{if(e.disabled)return void c(o);const n=o.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(u(o),o.defaultPrevented||null==n||n.focus())}))),v=g((e=>(o("pointerleave",e),e.defaultPrevented)),ee(c));return{handleClick:g((n=>{if(!e.disabled)return o("click",n),"keydown"!==n.type&&n.defaultPrevented}),(o=>{var n,t,r;e.disabled?o.stopImmediatePropagation():((null==(n=null==l?void 0:l.hideOnClick)?void 0:n.value)&&(null==(t=l.handleClick)||t.call(l)),null==(r=l.commandHandler)||r.call(l,e.command,a,o))})),handlePointerMove:m,handlePointerLeave:v,textContent:i,propsAndAttrs:d((()=>({...e,...n})))}}}),[["render",function(e,o,n,l,a,t){var r;const s=w("el-dropdown-item-impl"),d=w("el-roving-focus-item"),i=w("el-dropdown-collection-item");return b(),h(i,{disabled:e.disabled,"text-value":null!=(r=e.textValue)?r:e.textContent},{default:y((()=>[I(d,{focusable:!e.disabled},{default:y((()=>[I(s,O(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:y((()=>[f(e.$slots,"default")])),_:3},16,["onPointerleave","onPointermove","onClickimpl"])])),_:3},8,["focusable"])])),_:3},8,["disabled","text-value"])}],["__file","dropdown-item.vue"]]);var Xe=a(t({name:"ElDropdownMenu",props:oe,setup(e){const o=B("dropdown"),{_elDropdownSize:n}=Ye(),a=n.value,{focusTrapRef:t,onKeydown:r}=s(ne,void 0),{contentRef:i,role:u,triggerId:c}=s(je,void 0),{collectionRef:m,getItems:v}=s(le,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:w,tabIndex:b,onBlur:h,onFocus:y,onMousedown:I}=s(Me,void 0),{collectionRef:_}=s(De,void 0),E=d((()=>[o.b("menu"),o.bm("menu",null==a?void 0:a.value)])),C=xe(i,m,t,f,_),P=g((o=>{var n;null==(n=e.onKeydown)||n.call(e,o)}),(e=>{const{currentTarget:o,code:n,target:a}=e;if(o.contains(a),l.tab===n&&e.stopImmediatePropagation(),e.preventDefault(),a!==p(i)||!te.includes(n))return;const t=v().filter((e=>!e.disabled)).map((e=>e.ref));re.includes(n)&&t.reverse(),Ge(t)}));return{size:a,rovingFocusGroupRootStyle:w,tabIndex:b,dropdownKls:E,role:u,triggerId:c,dropdownListWrapperRef:C,handleKeydown:e=>{P(e),r(e)},onBlur:h,onFocus:y,onMousedown:I}}}),[["render",function(e,o,n,l,a,t){return b(),G("ul",{ref:e.dropdownListWrapperRef,class:A(e.dropdownKls),style:ae(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:Q(e.handleKeydown,["self"]),onMousedown:Q(e.onMousedown,["self"])},[f(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}],["__file","dropdown-menu.vue"]]);const Ze=se(qe,{DropdownItem:Qe,DropdownMenu:Xe}),eo=de(Qe),oo=de(Xe),no={class:"sidebar-menu"},lo={class:"menu-header"},ao={class:"logo-container"},to=(e=>(pe("data-v-0a4aceb5"),e=e(),me(),e))((()=>W("div",{class:"title-container"},[W("h1",{class:"main-title"},"企飞啦"),W("p",{class:"sub-title"},"私域流量管理系统")],-1))),ro={class:"menu-wrapper"},so=ve(t({__name:"SidebarMenu",setup(e){const o=ie(),n=ue(),l=r(""),a={"/dashboard":"dashboard","/dashboard/channels":"channels","/dashboard/complaint-management":"complaint","/dashboard/system/webhook-config":"webhook"};m((()=>o.path),(e=>{l.value=a[e]||""}),{immediate:!0});const t=e=>{n.push(e)};return(e,o)=>{const n=w("lay-icon"),a=w("lay-menu-item"),r=w("lay-menu");return b(),G("div",no,[W("div",lo,[W("div",ao,[I(n,{type:"layui-icon-survey",class:"logo-icon"})]),to]),W("div",ro,[I(r,{"selected-key":l.value,"onUpdate:selectedKey":o[3]||(o[3]=e=>l.value=e),tree:!1},{default:y((()=>[I(a,{id:"dashboard",onClick:o[0]||(o[0]=e=>t("/dashboard"))},{icon:y((()=>[I(n,{type:"layui-icon-chart"})])),title:y((()=>[ce(" 数据概述 ")])),_:1}),I(a,{id:"channels",onClick:o[1]||(o[1]=e=>t("/dashboard/channels"))},{icon:y((()=>[I(n,{type:"layui-icon-template"})])),title:y((()=>[ce(" 成员管理 ")])),_:1}),I(a,{id:"complaint",onClick:o[2]||(o[2]=e=>t("/dashboard/complaint-management"))},{icon:y((()=>[I(n,{type:"layui-icon-form"})])),title:y((()=>[ce(" 投诉管理 ")])),_:1})])),_:1},8,["selected-key"])])])}}}),[["__scopeId","data-v-0a4aceb5"]]),io={class:"dialog-footer"},uo=ve(t({__name:"ChangePasswordDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(e,{emit:o}){const n=e,l=o,a=ue(),t=fe(),s=d({get:()=>n.modelValue,set:e=>l("update:modelValue",e)}),i=r(),u=r(!1),c=ge({oldPassword:"",newPassword:"",confirmPassword:""}),p={oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:20,message:"密码长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(e,o,n)=>{o!==c.newPassword?n(new Error("两次输入的密码不一致")):n()},trigger:"blur"}]},m=()=>{s.value=!1,v()},v=()=>{var e;c.oldPassword="",c.newPassword="",c.confirmPassword="",null==(e=i.value)||e.clearValidate()},f=async()=>{if(i.value)try{await i.value.validate(),u.value=!0,await we.changePassword({oldPassword:c.oldPassword,newPassword:c.newPassword}),be.success("密码修改成功，请重新登录"),localStorage.removeItem("remembered_username"),localStorage.removeItem("remembered_password"),localStorage.removeItem("remember_me"),t.clearUser(),m(),a.push("/login")}catch(e){be.error(e.message||"修改密码失败")}finally{u.value=!1}};return(e,o)=>{const n=he,l=ye,a=Ie,t=C,r=Re;return b(),h(r,{modelValue:s.value,"onUpdate:modelValue":o[3]||(o[3]=e=>s.value=e),title:"修改密码",width:"500px","close-on-click-modal":!1,"z-index":9e3,modal:!0,"append-to-body":!0,"destroy-on-close":!0,onClose:m},{footer:y((()=>[W("div",io,[I(t,{onClick:m},{default:y((()=>[ce("取消")])),_:1}),I(t,{type:"primary",loading:u.value,onClick:f},{default:y((()=>[ce(" 确定 ")])),_:1},8,["loading"])])])),default:y((()=>[I(a,{ref_key:"formRef",ref:i,model:c,rules:p,"label-width":"100px"},{default:y((()=>[I(l,{label:"旧密码",prop:"oldPassword"},{default:y((()=>[I(n,{modelValue:c.oldPassword,"onUpdate:modelValue":o[0]||(o[0]=e=>c.oldPassword=e),type:"password",placeholder:"请输入旧密码","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),I(l,{label:"新密码",prop:"newPassword"},{default:y((()=>[I(n,{modelValue:c.newPassword,"onUpdate:modelValue":o[1]||(o[1]=e=>c.newPassword=e),type:"password",placeholder:"请输入新密码","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),I(l,{label:"确认密码",prop:"confirmPassword"},{default:y((()=>[I(n,{modelValue:c.confirmPassword,"onUpdate:modelValue":o[2]||(o[2]=e=>c.confirmPassword=e),type:"password",placeholder:"请再次输入新密码","show-password":"",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-2c6c8b05"]]),co={class:"header-container"},po=(e=>(pe("data-v-9d5d3751"),e=e(),me(),e))((()=>W("div",{class:"header-left"},[W("h1",{class:"project-title"},"企飞啦私域流量管理系统")],-1))),mo={class:"header-right"},vo={class:"user-info"},fo={class:"username"},go=ve(t({__name:"HeaderComponent",setup(e){const o=fe();ue();const n=r(!1),l=async e=>{switch(e){case"changePassword":n.value=!0;break;case"logout":await a()}},a=async()=>{try{await Ee.confirm("确定要退出登录吗？","退出确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await we.logout(),o.clearUser(),be.success("退出成功")}catch(e){"cancel"!==e&&be.error("退出登录失败")}},t=()=>{be.success("密码修改成功"),n.value=!1};return(e,a)=>{const r=R,s=Fe,d=eo,i=oo,u=Ze;return b(),G(X,null,[W("div",co,[po,W("div",mo,[I(u,{onCommand:l,trigger:"hover"},{dropdown:y((()=>[I(i,null,{default:y((()=>[I(d,{command:"changePassword"},{default:y((()=>[I(r,null,{default:y((()=>[I(p(Ce))])),_:1}),ce(" 修改密码 ")])),_:1}),I(d,{command:"logout",divided:""},{default:y((()=>[I(r,null,{default:y((()=>[I(p(Pe))])),_:1}),ce(" 退出登录 ")])),_:1})])),_:1})])),default:y((()=>{var e;return[W("div",vo,[I(s,{size:32,class:"user-avatar"},{default:y((()=>[I(r,null,{default:y((()=>[I(p(ke))])),_:1})])),_:1}),W("span",fo,_e((null==(e=p(o).userInfo)?void 0:e.username)||"用户"),1),I(r,{class:"dropdown-icon"},{default:y((()=>[I(p(T))])),_:1})])]})),_:1})])]),I(uo,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),onSuccess:t},null,8,["modelValue"])],64)}}}),[["__scopeId","data-v-9d5d3751"]]),wo={class:"layout-container"},bo={class:"main-container"},ho={class:"header"},yo={class:"content"},Io=ve(t({__name:"index",setup(e){const o=fe(),n=d((()=>o.getIsCollapse));return(e,o)=>{const l=w("router-view");return b(),G("div",wo,[W("div",{class:A(["sidebar",{"sidebar-collapsed":n.value}])},[I(so)],2),W("div",bo,[W("div",ho,[I(go)]),W("div",yo,[I(l)])])])}}}),[["__scopeId","data-v-a28b2463"]]);export{Io as default};
